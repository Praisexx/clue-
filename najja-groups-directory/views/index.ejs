<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('partials/head') %>
</head>
<body>
    <%- include('partials/header') %>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1 class="hero__title">Connect with Nigerian Communities Worldwide</h1>
            <p class="hero__subtitle">Find cultural groups, churches, associations, and more in the diaspora.</p>
            
        </div>
    </section>

    <main class="container">
        <!-- Stats Section -->
        <section class="section">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="metric-card fade-in">
                    <div class="metric-card__number">150+</div>
                    <div class="metric-card__label">Active Groups</div>
                </div>
                <div class="metric-card fade-in">
                    <div class="metric-card__number">25</div>
                    <div class="metric-card__label">Countries</div>
                </div>
                <div class="metric-card fade-in">
                    <div class="metric-card__number">10K+</div>
                    <div class="metric-card__label">Community Members</div>
                </div>
            </div>
        </section>

        <!-- Featured Groups Section -->
        <section class="section accent-flag">
            <div class="section__header">
                <h2 class="text-title">Featured Groups</h2>
                <p class="text-subtitle">Discover thriving Nigerian communities around the world</p>
            </div>
            
            <div class="card-grid-modern">
                <% if (featuredGroups && featuredGroups.length > 0) { %>
                    <% featuredGroups.forEach(function(group, index) { %>
                        <div class="card group-card hover-lift fade-in">
                            <div class="card__body">
                                <div class="flex items-center gap-4 mb-4">
                                    <div class="group-card__logo">
                                        <% 
                                        // Use realistic stock photos from Unsplash
                                        var logoNum = ((parseInt(group.id) % 5) + 1);
                                        var logoPath;
                                        
                                        if (group.name && (group.name.includes('Church') || group.name.includes('Christian') || group.name.includes('Christ') || group.name.includes('Redeemed') || group.name.includes('Living Faith') || group.name.includes('Mountain of Fire'))) {
                                            // Church photos - spiritual/architectural themes
                                            var churchPhotos = [
                                                'https://picsum.photos/id/75/400/400',   // Architecture/building
                                                'https://picsum.photos/id/582/400/400',  // Interior/peaceful
                                                'https://picsum.photos/id/665/400/400',  // Light/spiritual
                                                'https://picsum.photos/id/127/400/400',  // Gothic architecture
                                                'https://picsum.photos/id/250/400/400'   // Serene/contemplative
                                            ];
                                            logoPath = churchPhotos[logoNum - 1];
                                        } else if (group.name && (group.name.includes('University') || group.name.includes('Alumni') || group.name.includes('College') || group.name.includes('School'))) {
                                            // School photos - educational/academic themes
                                            var schoolPhotos = [
                                                'https://picsum.photos/id/159/400/400',  // Books/study
                                                'https://picsum.photos/id/175/400/400',  // Library/learning
                                                'https://picsum.photos/id/324/400/400',  // Academic building
                                                'https://picsum.photos/id/590/400/400',  // Graduation/achievement
                                                'https://picsum.photos/id/1/400/400'     // Classic academic
                                            ];
                                            logoPath = schoolPhotos[logoNum - 1];
                                        } else {
                                            // Organization photos - community/business themes
                                            var orgPhotos = [
                                                'https://picsum.photos/id/3/400/400',    // Professional/business
                                                'https://picsum.photos/id/7/400/400',    // Group/community
                                                'https://picsum.photos/id/15/400/400',   // Collaboration
                                                'https://picsum.photos/id/25/400/400',   // Modern/corporate
                                                'https://picsum.photos/id/29/400/400'    // People/networking
                                            ];
                                            logoPath = orgPhotos[logoNum - 1];
                                        }
                                        %>
                                        <img src="<%= logoPath %>" alt="<%= group.name %> logo" style="width: 60px; height: 60px; border-radius: 8px; object-fit: cover;" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                                        <div style="width: 60px; height: 60px; border-radius: 8px; background: var(--gradient-accent); display: none; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 1.2rem;">
                                            <%= group.name ? group.name.charAt(0).toUpperCase() : 'G' %>
                                        </div>
                                    </div>
                                    <div class="flex-1">
                                        <div class="flex items-center gap-2 mb-2">
                                            <span class="status-dot status-dot--active"></span>
                                            <span class="chip chip--success">Active</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <h3 class="group-card__title"><%= group.name %></h3>
                                <p class="group-card__description">
                                    <%= group.description ? group.description.substring(0, 120) + '...' : 'No description available.' %>
                                </p>
                                
                                <div class="group-card__tags">
                                    <% if (group.city || group.country) { %>
                                        <span class="chip">üìç <%= group.city || group.country %></span>
                                    <% } %>
                                    <% if (group.categories && group.categories.length > 0) { %>
                                        <span class="chip chip--primary"><%= group.categories[0] %></span>
                                    <% } %>
                                </div>
                            </div>
                            <div class="card__footer">
                                <a href="/groups/<%= group.slug %>" class="btn btn--tech">
                                    View Details
                                    <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                        <path d="M8.636 3.5a.5.5 0 0 0-.5.5v2h-3a.5.5 0 0 0 0 1h3v2a.5.5 0 0 0 .854.353l2.5-2.5a.5.5 0 0 0 0-.707l-2.5-2.5A.5.5 0 0 0 8.636 3.5z"/>
                                    </svg>
                                </a>
                            </div>
                        </div>
                    <% }); %>
                <% } else { %>
                    <div class="notification-card">
                        <h3>No Featured Groups Available</h3>
                        <p class="text-subtitle">Check back soon for exciting community updates!</p>
                    </div>
                <% } %>
            </div>
        </section>

        <!-- Call to Action Section -->
        <section class="section">
            <div class="notification-card text-center">
                <h2 class="text-title mb-4">Ready to Connect Your Community?</h2>
                <p class="text-subtitle mb-6">Join our growing network of Nigerian diaspora groups and help build stronger communities worldwide.</p>
                
                <div class="flex gap-4 justify-center items-center">
                    <a href="/add-group" class="btn btn--tech">
                        Add Your Group
                        <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2z"/>
                        </svg>
                    </a>
                    <a href="/search" class="btn btn--outline">Browse All Groups</a>
                </div>
                
                <div class="progress-bar mt-6">
                    <div class="progress-bar__fill" style="width: 65%;"></div>
                </div>
                <p class="text-sm text-light mt-2">65% of target communities reached</p>
            </div>
        </section>
    </main>
    
    <!-- Floating Action Button -->
    <button class="fab" onclick="window.scrollTo({top: 0, behavior: 'smooth'});" title="Back to top">
        <svg width="24" height="24" fill="currentColor" viewBox="0 0 16 16">
            <path d="M8 12a.5.5 0 0 0 .5-.5V5.707l2.146 2.147a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L7.5 5.707V11.5a.5.5 0 0 0 .5.5z"/>
        </svg>
    </button>

    <%- include('partials/footer') %>
</body>
</html>